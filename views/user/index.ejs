<!DOCTYPE html>
<html>
  <head>
    <% include ../_layouts/head %>
    <link href="/assets/css/plugins/datatables/datatables.min.css" rel="stylesheet" />
    <link href="/assets/css/plugins/dropzone/dropzone.css" rel="stylesheet" />
    <style>
      .alignstatus {
        align-self: center;
      }
      .dataTables_wrapper {
        padding-bottom: 0px;
      }
      .ibox-title {
        padding: 15px 40px 5px 40px;
      }
    </style>
  </head>

  <body class="md-skin">
    <% include ../_layouts/header %>
    <div id="wrapper">
      <% include ../_layouts/sidebar %>
      <div id="page-wrapper" class="gray-bg">
        <% include ../_layouts/search %>

        <div class="wrapper wrapper-content animated fadeInRight">
          <div class="row">
            <div class="col-lg-12">
              <div class="ibox ">
                <div class="ibox-title">
                  <div class="row">
                    <div class="col-sm-2">
                      <h2>
                        Request List
                        <small
                          class="badge badge-warning"
                          style="font-weight: normal"
                          id="txtFilter"
                        ></small>
                      </h2>
                    </div>
                    <div class="col-sm-2">
                      <input
                        class="form-control"
                        type="text"
                        id="filterByPhone"
                        placeholder="Search by Phone"
                      />
                    </div>
                    <div class="col-sm-2">
                      <input
                        class="form-control"
                        type="text"
                        id="filterByName"
                        placeholder="Search by Name"
                      />
                    </div>
                    <div class="col-sm-2">
                      <input
                        class="form-control"
                        type="text"
                        id="filterByAddress"
                        placeholder="Search by Address"
                      />
                    </div>
                    <div class="col-sm-2">
                      <select class="form-control m-b" id="filterByGroup">
                        <option value="">Filter by Blood Group</option>
                        <option value="A+">A +ve</option>
                        <option value="B+">B +ve</option>
                        <option value="AB+">AB +ve</option>
                        <option value="O+">O +ve</option>
                        <option value="A-">A -ve</option>
                        <option value="B-">B -ve</option>
                        <option value="AB-">AB -ve</option>
                        <option value="O-">O -ve</option>
                      </select>
                    </div>
                    <div class="col-sm-2 text-right">
                      <button
                        class="btn"
                        id="clearFilter"
                        style="display:none"
                        title="Clear filters"
                        onclick="page.clearFilter()"
                      >
                        <i class="fa fa-times-circle"></i></button
                      >&nbsp;
                      <button id="btnRequestAdd" class="btn btn-primary">
                        <i class="fa fa-plus"></i>&nbsp;Add
                      </button>
                    </div>
                  </div>
                </div>
                <div class="ibox-content">
                  <div class="table-responsive">
                    <table class="table table-striped table-bordered table-hover" id="tblRequest">
                      <thead>
                        <tr>
                          <th>Patient Name</th>
                          <th>Phone</th>
                          <th>Hospital</th>
                          <th>Blood Group</th>
                          <th>Requested Date</th>
                          <th>Status</th>
                          <th>Date</th>
                          <th width="100" style="text-align:center">
                            Action
                          </th>
                        </tr>
                      </thead>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <% include ../_layouts/footer %>
      </div>
    </div>

    <% include ../_layouts/foot %>
    <script
      type="text/javascript"
      language="javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery-form-validator/2.3.26/jquery.form-validator.min.js"
    ></script>
    <!--Data Tables -->
    <script src="/assets/js/plugins/datatables/datatables.min.js"></script>
    <script src="/assets/js/plugins/dropzone/dropzone.js"></script>
    <script src="/assets/js/app/request.js"></script>
  </body>
</html>

<div id="mdlRequestAdd" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Add a Request</h4>
      </div>
      <div class="modal-body">
        <form action="" method="post">
          <div class="row">
            <div class="col-md-6 form-group">
              <label for="requestor">Requester Name:</label>
              <input
                type="text"
                class="form-control"
                name="requester_name"
                data-validation="required"
              />
            </div>
            <div class="col-md-6 form-group">
              <label for="phone">Requester Phone:</label>
              <input
                type="number"
                class="form-control"
                name="requester_phone"
                data-validation-length="7-15"
              />
            </div>
            <div class="col-md-6 form-group">
              <label for="patientname">Patient Name:</label>
              <input
                type="text"
                class="form-control"
                name="patient_name"
                data-validation="required Patient Name"
              />
            </div>
            <div class="col-md-6 form-group">
              <label for="requesteddate">Requested Date of Blood:</label>
              <div class="input-group date">
                <span class="input-group-addon"><i class="fa fa-calendar"></i></span
                ><input type="date" class="form-control" name="daterequired" value="" />
              </div>
            </div>
            <div class="col-md-6 form-group">
              <label for="blood">Blood Group:</label>
              <select class="form-control" name="blood" data-validation="required">
                <option disabled selected value="">Select Option</option>
                <option value="A+">A+</option>
                <option value="B+">B+</option>
                <option value="O+">O+</option>
                <option value="AB+">AB+</option>
                <option value="A-">A-</option>
                <option value="B-">B-</option>
                <option value="O-">O-</option>
                <option value="AB-">AB-</option>
              </select>
            </div>
            <div class="col-md-6 form-group">
              <label for="email">Hospital:</label>
              <select class="form-control" name="hospital" data-validation="required">
                <option disabled selected value="" value="">Select Option</option>
                <option value="Patan Hospital">Patan Hospital</option>
                <option value="Kathmandu Model Hospital">Kathmandu Model Hospital</option>
                <option value="Prasuti Griha">Prasuti Griha</option>
                <option value="Trauma Center">Trauma Center</option>
                <option value="Hams">Hams</option>
                <option value="Thalassemia Society">Thalassemia Society</option>
              </select>
            </div>
            <div class="col-md-6 form-group">
              <label for="component">Component:</label>
              <select class="form-control" name="component" data-validation="required">
                <option disabled selected value="">Select Option</option>
                <option value="Whole Blood(WB)">Whole Blood</option>
                <option value="Packed Red Blood Cells (PRBC)"
                  >Packed Red Blood Cells (PRBCs)</option
                >
                <option value="Platelet-Rich Plasma (PRP)">Platelet-Rich Plasma (PRP)</option>
                <option value="Fresh Frozen Plasma (FFP)">Fresh Frozen Plasma (FFP)</option>
                <option value="Cryoprecipitate (Cryo-AHF)">Cryoprecipitate (Cryo-AHF)</option>
                <option value="Platelet concentrate (PC)">Platelet concentrate (PC)</option>
              </select>
            </div>
            <div class="col-md-6 form-group">
              <label for="quantity">Quantity:</label>
              <input type="text" class="form-control" name="quantity" data-validation="required" />
            </div>
            <div class="col-md-6 form-group">
              <label for="diagnosis">Diagnosis (Optional):</label>
              <input type="text" class="form-control" name="diagnosis" data-validation="required" />
            </div>
            <div class="col-md-6 form-group">
              <label for="tags">Tags:</label>
              <input
                type="tagsinput form-control"
                class="form-control"
                name="tags"
                data-role="tagsinput"
                data-validation="required"
              />
            </div>
            <div class="col-md-6 form-group">
              <label for="address">Address:</label>
              <input type="text" class="form-control" name="address" data-validation="required" />
            </div>
            <div class="col-md-6 form-group">
              <label for="comments">Comments:</label>
              <input type="text" class="form-control" name="comments" data-validation="required" />
            </div>
          </div>
          <div class="hr-line-dashed"></div>
          <div class="form-group row">
            <div class="col-sm-4 col-sm-offset-2">
              <button type="button" class="btn btn-sm btn-default" data-dismiss="modal">
                Close
              </button>
              <button class="btn btn-primary btn-sm" type="submit">Submit</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div id="mdlRequestView" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Donors</h4>
        <input type="text" style="display: none" value="" id="copyInput" />

        <button type="button" class="btn btn-sm btn-primary" onclick="copyText()">
          Copy
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-lg-12">
            <table class="table table-striped copy">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Name</th>
                  <th>Phone</th>
                  <th>Gender</th>
                  <th>Blood Group</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody id="donorView"></tbody>
            </table>
          </div>
        </div>
        <div class="hr-line-dashed"></div>
        <div class="form-group row">
          <div class="col-sm-4 col-sm-offset-2">
            <button type="button" class="btn btn-sm btn-default" data-dismiss="modal">
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="mdlFileUpload" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Upload Blood Requisition Form</h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-lg-12">
            <form action="#" class="dropzone">
              <div class="fallback">
                <input name="file" type="file" multiple />
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-success btnFileUpload btnRequest">
          Go to Request Details
        </button>
        <button type="button" class="btn btn-primary btnFileUpload btnDonors">Select Donors</button>
      </div>
    </div>
  </div>
</div>
